<html>
<head>
<title>功能点测试.md</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #5c8ae6; font-weight: bold;}
.s1 { color: #a9b7c6;}
.s2 { color: #a9b7c6; font-weight: bold;}
.s3 { color: #9f55d4; font-weight: bold;}
.s4 { color: #0277c8; font-weight: bold;}
.s5 { color: #b33e6b; font-weight: bold;}
.s6 { color: #5c8ae6; font-weight: bold;}
.s7 { color: #5bb38d; font-style: italic;}
.s8 { color: #b347aa; font-weight: bold;}
.s9 { color: #a9b7c6; font-weight: bold; font-style: italic;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
功能点测试.md</font>
</center></td></tr></table>
<pre><span class="s0">### </span><span class="s2">测试环境</span>
<span class="s3">![</span><span class="s1">测试环境</span><span class="s3">](</span><span class="s4">./testEnvTopology.png</span><span class="s3">)  </span>
<span class="s0">##### </span><span class="s2">环境描述：</span>
<span class="s5">- </span><span class="s1">Gateway交换机为华为6855，ToR为华三6800，server为物理服务器，安装ESXI，图中所有</span>
<span class="s1">SLB，虚机均安装在这台服务器上。</span>
<span class="s5">- </span><span class="s1">Gateway交换机上配置VLAN10，11和12，以及各自VLAN的SVI，SVI接口的IP地址分别为这3个VLAN的网关。</span>
<span class="s6">* * * 
</span><span class="s0">##### </span><span class="s2">连通性测试</span>
<span class="s5">- </span><span class="s1">交换机上启用LLDP，查看LLDP邻居信息</span>
<span class="s5">- </span><span class="s1">Gateway上配置port-channel（受环境限制，每台交换机上的port-channel使用两个接口，但仅有一组接口有光纤互联）的40G1/0/1使用 </span><span class="s7">*</span><span class="s8">**</span><span class="s9">trunk</span><span class="s8">**</span><span class="s7">* </span><span class="s1">与ToR的40G1/0/51互联，并仅允许VLAN10，11，12，13和14的流量。</span>
<span class="s5">- </span><span class="s1">ToR上配置VLAN10，11和12.并使用T1/0/46,T1/0/47,T1/0/48使用 </span><span class="s7">*</span><span class="s8">**</span><span class="s9">trunk</span><span class="s8">**</span><span class="s7">* </span><span class="s1">与server网卡互联。</span>
<span class="s5">- </span><span class="s1">搭建一个web服务，模拟外网访问。外部用户通过gateway访问SLB（ssl），SLB将流量负载均衡到其中一台SSL上。SSL将流量转发到SLB（web），SLB将流量负载均衡到其中一台web服务器。web服务器向app服务器发起访问，展现访问结果</span>
<span class="s0">##### </span><span class="s2">路由协议测试</span>
<span class="s5">- </span><span class="s1">Gateway与ToR上配置loopback0，loopback1，VLAN13，并配置SVI和IP地址</span>
<span class="s5">- </span><span class="s1">两台交换机配置ospf邻居，查看ospf邻居状态，并把loopback0发布到ospf中，查看路由表状态</span>
<span class="s5">- </span><span class="s1">两台交换机配置IBGP邻居，查看BGP邻居状态，并把loopback1发布到BGP中，查看路由表</span>
<span class="s5">- </span><span class="s1">两台交换机配置EBGP邻居，查看BGP邻居状态，并把loopback1发布到BGP中，查看路由表（此步骤需删除IBGP相关配置）</span>
<span class="s5">- </span><span class="s1">配置基于OSPF和BGP的BFD</span>
<span class="s0">##### </span><span class="s2">高可用测试</span>
<span class="s5">- </span><span class="s1">Gateway与ToR上配置VLAN14，并配置SVI和IP地址</span>
<span class="s5">- </span><span class="s1">配置vrrp，查看vrrp状态</span>
<span class="s0">##### </span><span class="s2">安全性测试</span>
<span class="s5">- </span><span class="s1">在Gateway上SVI10配置高级ACL，允许外部用户访问ssl VS的443端口</span>
<span class="s5">- </span><span class="s1">在Gateway上SVI12配置高级ACL，仅允许web01和web02访问app01的8080端口</span>
<span class="s0">##### </span><span class="s2">负载均衡测试</span>
<span class="s5">- </span><span class="s1">配置sslPool，pool member为SSL01和SSL02</span>
<span class="s5">- </span><span class="s1">配置webPool，pool member为web01和web02</span>
<span class="s5">- </span><span class="s1">配置SSL member的健康检查方式为tcp。配置web member的健康检查方式为http get</span>
<span class="s5">- </span><span class="s1">配置sslSnatPool和webSnatPool</span>
<span class="s0">##### </span><span class="s2">其他通用配置（详见功能点）</span>
<span class="s6">* * * 
</span><span class="s7">*</span><span class="s8">**</span><span class="s9">以下功能点均由自动化配置完成</span><span class="s8">**</span><span class="s7">*</span>
<span class="s0">### </span><span class="s2">交换机功能点 </span>
<span class="s5">1. </span><span class="s1">相关接口配置</span>
<span class="s5">- </span><span class="s1">创建VLAN、SVI接口并配置IP地址</span>
<span class="s5">- </span><span class="s1">配置trunk接口</span>
<span class="s5">- </span><span class="s1">创建port-channel接口</span>
<span class="s5">- </span><span class="s1">配置layer2接口</span>
<span class="s5">- </span><span class="s1">创建layer3接口，配置IP地址</span>
<span class="s5">- </span><span class="s1">创建layer3子接口，封装VLAN tag，配置IP地址</span>
<span class="s5">- </span><span class="s1">创建loopback接口，配置IP地址</span>
<span class="s5">2. </span><span class="s1">路由协议配置</span>
<span class="s5">- </span><span class="s1">配置静态路由</span>
<span class="s5">- </span><span class="s1">配置OSPF</span>
<span class="s5">- </span><span class="s1">配置BGP</span>
<span class="s5">3. </span><span class="s1">设备管理配置</span>
<span class="s5">- </span><span class="s1">设备堆叠</span>
<span class="s5">- </span><span class="s1">NTP配置</span>
<span class="s5">- </span><span class="s1">syslog配置</span>
<span class="s5">- </span><span class="s1">SNMP配置</span>
<span class="s5">- </span><span class="s1">NETCONF配置</span>
<span class="s5">- </span><span class="s1">LLDP配置</span>
<span class="s5">- </span><span class="s1">netstream/Sflow配置</span>
<span class="s5">- </span><span class="s1">配置保存</span>
<span class="s5">- </span><span class="s1">配置回滚</span>
<span class="s5">4. </span><span class="s1">可靠性配置</span>
<span class="s5">- </span><span class="s1">BFD</span>
<span class="s5">- </span><span class="s1">VRRP</span>
<span class="s5">5. </span><span class="s1">安全性配置</span>
<span class="s5">- </span><span class="s1">ACL配置</span>
<span class="s0">### </span><span class="s2">负载均衡功能点</span>
<span class="s5">1. </span><span class="s1">ADC配置</span>
<span class="s5">- </span><span class="s1">node配置</span>
<span class="s5">- </span><span class="s1">pool/pool member配置</span>
<span class="s5">- </span><span class="s1">health monitor配置</span>
<span class="s5">- </span><span class="s1">snat pool/translate配置</span>
<span class="s5">- </span><span class="s1">VS配置</span>
<span class="s5">2. </span><span class="s1">设备初始配置</span>
<span class="s5">- </span><span class="s1">接口配置</span>
<span class="s5">- </span><span class="s1">接口vlan tag配置</span>
<span class="s5">- </span><span class="s1">NTP配置</span>
<span class="s5">- </span><span class="s1">SNMP配置</span>
<span class="s5">- </span><span class="s1">syslog配置</span>
<span class="s5">- </span><span class="s1">管理网路由配置</span>
<span class="s5">- </span><span class="s1">生产网路由配置</span></pre>
</body>
</html>